{% extends 'base.html.twig' %}

{% block title %}Reservation Plongée{% endblock %}

{% block body %}
<div class="bandeau">
    <div class="container">
        <div class="row">
            <div class="col-auto mr-auto align-middle">

                <h4 class="mt-3 ">Bonjour {{app.user.pseudo}}</h4>
            </div>
            <div class="col-auto">
                <nav class="navbar navbar-expand-lg navbar-light ">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse align-middle" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <a class="nav-link text-white " href="javascript:history.go(-1)">Retour</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white " href={{ path('member_reservation', {'id': app.user.id}) }}>Mon planning</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white " href={{ path('message') }}>J'ai une question !</a>
                            </li>

                            {% if is_granted('ROLE_ADMIN') %}
                                <li class="nav-item">
                                    <a class="nav-link text-warning" href={{ path('admin_index') }}>Menu ADMINISTRATEUR</a>
                                </li>
                            {% endif %}
                            <li class="nav-item">
                                <a class="nav-link text-warning " href={{ path('account_logout') }}>Déconnexion</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div class="col-auto mb-2">
                <img style="width:75px; height:75px;" src="/pictures/logodiving.gif">
            </div>
        </div>
    </div>
</div>
      <div class="container  mb-5 mt-5 bg-white">
        <div class="row justify-content-between border border-secondary">
            <div class="col-12 col-md-12 col-xl-4 col-sm-12 col-lg-4" style="padding-left:0px; padding-right:0px;">
                <script type="text/javascript" language="javascript">
                    document.write('<img style="width:100%; height:100%;" src="/pictures/photoplongeesite/'+ Math.round((Math.random()*9)+1)+ '.jpg" />');
                </script>
            </div>
            <div class="col-12 col-md-12 col-xl-8 col-sm-12 col-lg-8">
                <div class="container ">
                    <div class="row justify-content-between font-weight-bold" style="font-size:1.2em;">
                        <div class="col-auto mb-3 mt-2">
                            Date:   {{ diving.date|date('d/m/Y') }}
                        </div>
                        <div class="col-auto  mb-3 mt-2">
                            Niveau minimum:   {{ diving.levelMin }}
                        </div>
                    </div>
                    <div class="row justify-content-between font-weight-bold" style="font-size:1.2em;">
                        <div class="col-auto mb-2">
                            Lieu:   {{ diving.location }}
                        </div>
                        <div class="col-auto mb-2">
                            {% if diving.levelMin <= app.user.levelDive %}
                                <img style="width:30px; height:30px;" src="/pictures/GreenFish.png">
                            {% else %}
                                <img style="width:30px; height:30px;" src="/pictures/RedFish.png">
                            {% endif %}
                        </div>
                    </div>
                    <div class="mt-3 dive">
                        {{ diving.description }}
                    </div>
                    <div class="row justify-content-between">
                        <div class="col-auto mt-5">
                                <div class="mt-3 font-weight-bold">
                                    Nombre de places disponible:  {{ diving.places - diving.placeResa }}
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="container">
    {{ form_start(form) }}
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-auto mb-3 mt-2">
             {{ form_row(form.regulator) }}
            </div>
            <div id="wetSuite" onClick="change()" class="col-auto mb-3 mt-2">
              {{ form_row(form.wetSuit) }}
            </div>
            <script type="text/javascript">
               console.log(document.getElementById("wetSuite"));
               console.log('toto')
            </script>
            <div style="display: none" id="size" class="col-auto  mb-3 mt-2">
                Taille de la combinaison:
                {{ form_widget(form.sizeSuit) }}
            </div>
            <div class="col-auto  mb-3 mt-2">
                <button type="submit" class="btn btn-primary">Valider ma participation</button>
            </div>
        </div>
    </div>
    {{ form_end(form) }}
</div>


{% endblock %}